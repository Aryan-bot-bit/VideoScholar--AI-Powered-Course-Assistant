[{'start': 0.0, 'end': 3.0, 'text': ' Now we have used sessions, next we will use flash'}, {'start': 3.0, 'end': 5.0, 'text': ' To use flash, we will take a basic example'}, {'start': 5.0, 'end': 7.0, 'text': ' As soon as we create a new listing, we will go to add new listing'}, {'start': 7.0, 'end': 9.0, 'text': ' As soon as we create a new listing, we will have a new message flash'}, {'start': 9.0, 'end': 10.0, 'text': ' That new listing is created'}, {'start': 10.0, 'end': 12.0, 'text': ' So first of all we will install the flash'}, {'start': 12.0, 'end': 14.0, 'text': ' npm i connect flash'}, {'start': 14.0, 'end': 16.0, 'text': ' and go to app.js and require'}, {'start': 16.0, 'end': 18.0, 'text': ' our connect flash'}, {'start': 18.0, 'end': 20.0, 'text': ' where we have used sessions'}, {'start': 20.0, 'end': 22.0, 'text': ' after this session line, we have to use app.js flash'}, {'start': 22.0, 'end': 24.0, 'text': ' One thing we have to note is that in our code'}, {'start': 24.0, 'end': 27.0, 'text': ' where we are requiring the routes, we have to use flash before that'}, {'start': 27.0, 'end': 29.0, 'text': ' because basically we are going to use this flash with the help of routes'}, {'start': 29.0, 'end': 31.0, 'text': ' So first we will use flash and then our routes will come into our code'}, {'start': 31.0, 'end': 33.0, 'text': " So let's save this and clear this"}, {'start': 33.0, 'end': 35.0, 'text': ' What we will do is go to our listing.js route'}, {'start': 35.0, 'end': 37.0, 'text': ' and as soon as we create a new route, we will go to router.post'}, {'start': 37.0, 'end': 39.0, 'text': ' and as soon as this new route is created'}, {'start': 39.0, 'end': 41.0, 'text': ' we will create a new flash in the request'}, {'start': 41.0, 'end': 43.0, 'text': ' in which our success will be our key and message will be'}, {'start': 43.0, 'end': 45.0, 'text': " let's call it new listing created"}, {'start': 45.0, 'end': 47.0, 'text': " Let's save this and this new listing created"}, {'start': 47.0, 'end': 49.0, 'text': ' we want to flash this message as soon as we redirect'}, {'start': 49.0, 'end': 51.0, 'text': ' to the listing page'}, {'start': 51.0, 'end': 53.0, 'text': ' So where can we access this message? We can access it in our local variables'}, {'start': 53.0, 'end': 55.0, 'text': ' To access it, we will go to app.js'}, {'start': 55.0, 'end': 57.0, 'text': ' and here we will write the route path'}, {'start': 57.0, 'end': 59.0, 'text': ' and here we will create a middleware from the route'}, {'start': 59.0, 'end': 61.0, 'text': ' app.use, we will have a request and response'}, {'start': 61.0, 'end': 63.0, 'text': ' and in this middleware, we will create a success message'}, {'start': 63.0, 'end': 65.0, 'text': ' in response.locals'}, {'start': 65.0, 'end': 67.0, 'text': ' this is going to be request.flash'}, {'start': 67.0, 'end': 69.0, 'text': ' if any success message is sent'}, {'start': 69.0, 'end': 71.0, 'text': ' it will be saved in our response and local'}, {'start': 71.0, 'end': 73.0, 'text': ' and then we will call next'}, {'start': 73.0, 'end': 75.0, 'text': " One thing we have to note is that we don't forget to call next"}, {'start': 75.0, 'end': 77.0, 'text': ' otherwise we will be stuck on this middleware'}, {'start': 77.0, 'end': 79.0, 'text': ' and next call will automatically match with the route'}, {'start': 79.0, 'end': 81.0, 'text': ' Now where can we use this success variable?'}, {'start': 81.0, 'end': 83.0, 'text': ' To use it, go to the listings and go to index.ejs'}, {'start': 83.0, 'end': 85.0, 'text': ' because it is redirected to listing.js'}, {'start': 85.0, 'end': 87.0, 'text': ' and we will go to all listings'}, {'start': 87.0, 'end': 89.0, 'text': ' and here we will use our success message'}, {'start': 89.0, 'end': 91.0, 'text': ' and save it'}, {'start': 91.0, 'end': 93.0, 'text': ' here we used app.js and flash and defined our middleware'}, {'start': 93.0, 'end': 95.0, 'text': ' and we flashed this message in the listings'}, {'start': 95.0, 'end': 97.0, 'text': ' and we printed this flashed message in index.js'}, {'start': 97.0, 'end': 99.0, 'text': ' Now we will come here and refresh'}, {'start': 99.0, 'end': 101.0, 'text': ' and we can create a new listing'}, {'start': 101.0, 'end': 103.0, 'text': ' we will call it sample listing'}, {'start': 103.0, 'end': 105.0, 'text': ' some description, price 2000'}, {'start': 105.0, 'end': 107.0, 'text': ' india jaipur ad'}, {'start': 107.0, 'end': 109.0, 'text': ' as soon as we added it, we came to the index page'}, {'start': 109.0, 'end': 111.0, 'text': ' and this new message flashed'}, {'start': 111.0, 'end': 113.0, 'text': ' if we refresh, this message will never come in the second time'}, {'start': 113.0, 'end': 115.0, 'text': ' so this is how we use our flash messages'}, {'start': 115.0, 'end': 117.0, 'text': ' which we have practically implemented here'}]